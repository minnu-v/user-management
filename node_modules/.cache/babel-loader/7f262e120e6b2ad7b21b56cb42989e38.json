{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/radical/React/user-management/src/components/leaveManagement/Request.js\";\n\n/* eslint-disable no-undef */\nimport React, { Component, Fragment } from 'react';\nimport { requiredErrorString, validateYear, validateMark } from '../../../utils/validate';\nimport { FileUpload, Image } from '../../../components';\nexport default class Request extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.addDegree = () => {\n      const {\n        user: {\n          education\n        },\n        updateProperty\n      } = this.props;\n      education.push({\n        degree: '',\n        year: '',\n        mark: '',\n        fileId: ''\n      });\n      updateProperty('education', education);\n    };\n\n    this.onDeleteDegree = index => {\n      const {\n        user: {\n          education\n        },\n        updateProperty\n      } = this.props;\n      updateProperty('education', education.filter((e, i) => i !== index));\n    };\n\n    this.onInputChange = (e, index) => {\n      const {\n        user: {\n          education\n        },\n        updateProperty\n      } = this.props;\n      const {\n        target: {\n          name,\n          value\n        }\n      } = e;\n      education[index][name] = value;\n\n      if (education[index][`${name}Error`]) {\n        delete education[index][`${name}Error`];\n      }\n\n      updateProperty('education', education);\n    };\n\n    this.onNext = () => {\n      if (this.validateForm()) return;\n      const {\n        user: {\n          education\n        }\n      } = this.props;\n      sessionStorage.setItem('education', JSON.stringify(education));\n      this.props.history.push('/user-profile-setup?page=plan');\n    };\n\n    this.validateForm = () => {\n      let {\n        user: {\n          education\n        },\n        updateProperty\n      } = this.props;\n      let hasError = false;\n      education = education.map(e => {\n        if (!e.degree) {\n          e.degreeError = requiredErrorString('degree');\n          hasError = true;\n        }\n\n        const yearError = validateYear(e.year);\n\n        if (yearError) {\n          e.yearError = yearError;\n          hasError = true;\n        }\n\n        const markError = validateMark(e.mark);\n\n        if (markError) {\n          e.markError = markError;\n          hasError = true;\n        }\n\n        return e;\n      });\n      updateProperty('education', education);\n      return hasError;\n    };\n\n    this.onImageUpload = (fileId, index) => {\n      const {\n        user: {\n          education\n        },\n        updateProperty\n      } = this.props;\n      education[index].fileId = fileId;\n      updateProperty('education', education);\n    };\n  }\n\n  render() {\n    const {\n      user: {\n        education = []\n      }\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Education Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), education.map((item, index) => /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: index === 0 || index === 1 ? /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: item.degree\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: classNames('flex-1', {\n                  'text-danger': item.degreeError\n                }),\n                children: \"Degree\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 45\n              }, this), index !== 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-outline-danger btn-sm mb-1\",\n                onClick: () => this.onDeleteDegree(index),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"degree\",\n              placeholder: \"Degree\",\n              value: item.degree,\n              className: classNames('form-control', {\n                'is-invalid': item.degreeError\n              }),\n              onChange: e => this.onInputChange(e, index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: item.degreeError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: classNames({\n                'text-danger': item.yearError\n              }),\n              children: \"Pass out year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"year\",\n              placeholder: \"Year\",\n              value: item.year,\n              className: classNames('form-control', {\n                'is-invalid': item.yearError\n              }),\n              onChange: e => this.onInputChange(e, index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: item.yearError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: classNames({\n                'text-danger': item.markError\n              }),\n              children: \"Mark in Percentage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              name: \"mark\",\n              placeholder: \"Mark\",\n              value: item.mark,\n              className: classNames('form-control', {\n                'is-invalid': item.markError\n              }),\n              onChange: e => this.onInputChange(e, index)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-danger\",\n              children: item.markError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: [item.fileId ? /*#__PURE__*/_jsxDEV(Image, {\n            fileId: item.fileId,\n            alt: \"certificate\",\n            width: \"250px\",\n            onRemove: () => this.onImageUpload('', index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(FileUpload, {\n            onUpload: fileId => this.onImageUpload(fileId, index)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12 mb-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: this.addDegree,\n          children: \"Add Degree\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12 mt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary btn-block\",\n          onClick: this.onNext,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/home/radical/React/user-management/src/components/leaveManagement/Request.js"],"names":["React","Component","Fragment","requiredErrorString","validateYear","validateMark","FileUpload","Image","Request","addDegree","user","education","updateProperty","props","push","degree","year","mark","fileId","onDeleteDegree","index","filter","e","i","onInputChange","target","name","value","onNext","validateForm","sessionStorage","setItem","JSON","stringify","history","hasError","map","degreeError","yearError","markError","onImageUpload","render","item","classNames"],"mappings":"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","sourcesContent":["/* eslint-disable no-undef */\nimport React, { Component, Fragment } from 'react';\n\nimport { requiredErrorString, validateYear, validateMark } from '../../../utils/validate';\nimport { FileUpload, Image } from '../../../components';\n\nexport default class Request extends Component {\n    addDegree = () => {\n        const { user: { education }, updateProperty } = this.props;\n        education.push({\n            degree: '',\n            year: '',\n            mark: '',\n            fileId: '',\n        });\n        updateProperty('education', education);\n    }\n\n    onDeleteDegree = index => {\n        const { user: { education }, updateProperty } = this.props;\n        updateProperty('education', education.filter((e, i) => i !== index));\n    }\n\n    onInputChange = (e, index) => {\n        const { user: { education }, updateProperty } = this.props;\n        const { target: { name, value } } = e\n        education[index][name] = value;\n        if (education[index][`${name}Error`]) {\n            delete education[index][`${name}Error`];\n        }\n        updateProperty('education', education);\n    }\n\n    onNext = () => {\n        if (this.validateForm()) return;\n\n        const { user: { education } } = this.props;\n        sessionStorage.setItem('education', JSON.stringify(education));\n        this.props.history.push('/user-profile-setup?page=plan');\n    }\n\n    validateForm = () => {\n        let { user: { education }, updateProperty } = this.props;\n        let hasError = false;\n        education = education.map(e => {\n            if (!e.degree){\n                e.degreeError = requiredErrorString('degree');\n                hasError = true;\n            }\n            const yearError = validateYear(e.year);\n            if (yearError) {\n                e.yearError = yearError;\n                hasError = true;\n            }\n            const markError = validateMark(e.mark);\n            if (markError) {\n                e.markError = markError;\n                hasError = true;\n            }\n\n            return e;\n        });\n\n        updateProperty('education', education);\n\n        return hasError;\n    }\n\n    onImageUpload = (fileId, index) => {\n        const { user: { education }, updateProperty } = this.props;\n        education[index].fileId = fileId;\n        updateProperty('education', education);\n    }\n\n    render () {\n        const { user: { education = [] } } = this.props;\n        return (\n            <Fragment>\n                <div className=\"col-md-12\">\n                    <h4>Education Details</h4>\n                    <hr />\n                </div>\n                {education.map((item, index) => (\n                    <Fragment key={index}>\n                        <div className=\"col-md-12\">\n                            {(index === 0 || index === 1) ? (\n                                <h5>{item.degree}</h5>\n                            ): (\n                                    <div className=\"form-group\">\n                                        <div className=\"d-flex\">\n                                            <label className={classNames('flex-1', { 'text-danger': item.degreeError })}>Degree</label>\n                                            {index !== 0 && (\n                                                <button className=\"btn btn-outline-danger btn-sm mb-1\" onClick={() => this.onDeleteDegree(index)}>Delete</button>\n                                            )}\n                                        </div>\n                                        <input\n                                            name=\"degree\"\n                                            placeholder=\"Degree\"\n                                            value={item.degree}\n                                            className={classNames('form-control', { 'is-invalid': item.degreeError })}\n                                            onChange={(e) => this.onInputChange(e, index)}\n                                        />\n                                        <small className=\"text-danger\">{item.degreeError}</small>\n                                    </div> \n                            )}\n                        </div>\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <label className={classNames({ 'text-danger': item.yearError })}>Pass out year</label>\n                                <input\n                                    type=\"number\"\n                                    name=\"year\"\n                                    placeholder=\"Year\"\n                                    value={item.year}\n                                    className={classNames('form-control', { 'is-invalid': item.yearError })}\n                                    onChange={(e) => this.onInputChange(e, index)}\n                                />\n                                <small className=\"text-danger\">{item.yearError}</small>\n                            </div>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <div className=\"form-group\">\n                                <label className={classNames({ 'text-danger': item.markError })}>Mark in Percentage</label>\n                                <input\n                                    type=\"number\"\n                                    name=\"mark\"\n                                    placeholder=\"Mark\"\n                                    value={item.mark}\n                                    className={classNames('form-control', { 'is-invalid': item.markError })}\n                                    onChange={(e) => this.onInputChange(e, index)}\n                                />\n                                <small className=\"text-danger\">{item.markError}</small>\n                            </div>\n                        </div>\n                        <div className=\"col-md-12\">\n                            {item.fileId ? (\n                                <Image fileId={item.fileId} alt=\"certificate\" width=\"250px\" onRemove={() => this.onImageUpload('', index)}/>\n                            ) : (\n                                <FileUpload\n                                    onUpload={(fileId) => this.onImageUpload(fileId, index)}\n                                />\n                            )}\n                        <hr />\n                        </div>\n                    </Fragment>\n                ))}\n                <div className=\"col-md-12 mb-2\">\n                    <button className=\"btn btn-primary\" onClick={this.addDegree}>\n                        Add Degree\n                    </button>\n                </div>\n                <div className=\"col-md-12 mt-2\">\n                    <button className=\"btn btn-primary btn-block\" onClick={this.onNext}>\n                        Next\n                    </button>\n                </div>\n            </Fragment>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}